(function(jscl){
'use strict';
(function(values, internals){
var l1=internals.make_lisp_string('loading repl-deno/repl.lisp!');
console.log(internals.xstring(l1));
var l2=internals.intern('START-REPL');
var l3=internals.intern('WELCOME-MESSAGE');
var l4=internals.intern('NIL','COMMON-LISP');
var l5=internals.intern('FORMAT-ERROR');
var l6=internals.intern('COMPLAINT','KEYWORD');
l6.value=l6;
var l7=internals.make_lisp_string('Required argument missing');
var l8=internals.intern('CONTROL-STRING','KEYWORD');
l8.value=l8;
var l9=internals.make_lisp_string('~a>');
var l10=internals.intern('OFFSET','KEYWORD');
l10.value=l10;
var l11=internals.intern('ERROR','COMMON-LISP');
var l12=internals.intern('PRINC','COMMON-LISP');
var l13=internals.make_lisp_string('>');
var l14=internals.intern('WRITE-STRING','COMMON-LISP');
var l15=internals.intern('*PACKAGE*','COMMON-LISP');
var l16=internals.intern('PACKAGE-NAME-FOR-PROMPT');
var l17=internals.intern('CALL-FORMATTER');
var l18=internals.intern('*ROOT*');
var l19=internals.intern('T','COMMON-LISP');
var l20=internals.make_lisp_string('ERROR[!]: ~a~%');
var l21=internals.make_lisp_string('ERROR[!]: ');
var l22=internals.intern('TERPRI','COMMON-LISP');
var l23=internals.intern('*HANDLER-BINDINGS*');
var l24=internals.intern('%%ERROR');
var l25=internals.intern('LIST','COMMON-LISP');
var l26=internals.intern('READ-FROM-STRING','COMMON-LISP');
var l27=internals.intern('EVAL-INTERACTIVE');
var l28=internals.intern('PRINT','COMMON-LISP');
var l29=internals.make_lisp_string('ERROR: ');
var l30=internals.intern('FORMAT','COMMON-LISP');
var l31=internals.intern('!CONDITION-ARGS');
var l32=internals.make_lisp_string('~a>');
var l33=internals.make_lisp_string('>');
l2.fvalue=(function(){var FUNC=(function JSCL_USER_STARTREPL(values){internals.checkArgsAtMost(arguments.length-1,0);
var v1=this;
return (function(){l3.fvalue(internals.pv);
return (function(v8){return (function(){return (function(){var v10=1;
var v11=[];
TBLOOP:while (true){try{switch(v10){case 1:(function(v12){(function(){try{return (function(){try{var v21=[];
return (function(v22){return (function(){var v23=1;
var v24=[];
TBLOOP:while (true){try{switch(v23){case 1:(function(v25){return internals.bindSpecialBindings([l23],[v25],(function(){(function(){var v27=new internals.Cons(l11,(function JSCL_USER_NIL(values,v28){internals.checkArgs(arguments.length-1,1);
var v29=this;
v22=v28;
return (function(){throw new internals.TagNLX(v24,2);
})();
}));
var v30=new internals.Cons(v27,internals.symbolValue(l23));
return l23.value=v30;
})();
return (function(){try{return (function(){throw new internals.BlockNLX(v21,(function(v33){return (function(){return (function(v35,v36){(function(){while (v35!==l4.value){v36=v35['$$jscl_car'];
l28.fvalue(internals.pv,v36);
l4.value;
v35=v35['$$jscl_cdr'];
}return l4.value;
})();
return l4.value;
})(v33,l4.value);
})();
})((function(){var FUNC=internals.symbolFunction(l25);
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l27.fvalue(values,l26.fvalue(internals.pv,v12));
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})()),'G109');
})();
}catch (v31){v31=internals.js_to_lisp(v31);
return (internals.isNLX(v31)?l19.value:l4.value)!==l4.value?(function(){throw v31;
})():l24.fvalue(internals.pv,(function(v32){return v32!==l4.value?v32:v31;
})(internals.js_to_lisp((function(){var TMP=v31['message'];
return TMP===undefined?l4.value:TMP;
})())));
}})();
}));
})(internals.symbolValue(l23));
case 2:(function(){throw new internals.BlockNLX(v21,(function(v37){l17.fvalue(internals.pv,l19.value,(function JSCL_USER_NIL(values,v39){internals.checkArgsAtLeast(arguments.length-1,1);
var v38=l4.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v38=new internals.Cons(arguments[I+1],v38);
var v40=this;
(function(){return l14.fvalue(internals.pv,l29,v39);
})();
return v38;
}));
(function(){var F=internals.symbolFunction(l30);
var ARGS=[internals.pv,l19.value];
var TAIL=l31.fvalue(internals.pv,v37);
while (TAIL!=l4.value){ARGS.push(TAIL.$$jscl_car);
TAIL=TAIL.$$jscl_cdr;
}return (typeof F==='function'?F:F.fvalue).apply(this,ARGS);
})();
return l22.fvalue(internals.pv);
})(v22),'G109');
})();
default:break TBLOOP;
}}catch (JUMP){if (JUMP instanceof internals.TagNLX&&JUMP.id==v24) v23=JUMP.label;
 else throw JUMP;
}}return l4.value;
})();
})(l4.value);
}catch (CF){if (CF instanceof internals.BlockNLX&&CF.id==v21) return CF.values;
 else throw CF;
}})();
}catch (v13){v13=internals.js_to_lisp(v13);
return (function(v15){return l17.fvalue(internals.pv,l19.value,(function JSCL_USER_NIL(values,v17,v18){internals.checkArgsAtLeast(arguments.length-1,1);
switch(arguments.length-1){case 1:v18=l11.fvalue(internals.pv,l5,l6.value,l7,l8.value,l20,l10.value,11);
;
default:break;
}var v16=l4.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v16=new internals.Cons(arguments[I+1],v16);
var v19=this;
(function(){l14.fvalue(internals.pv,l21,v17);
l12.fvalue(internals.pv,v18,v17);
return l22.fvalue(internals.pv,v17);
})();
return v16;
}),v15);
})((function(v14){return v14!==l4.value?v14:v13;
})(internals.js_to_lisp((function(){var TMP=v13['message'];
return TMP===undefined?l4.value:TMP;
})())));
}})();
return (function(){return (function(){var FUNC=(function JSCL_USER_NIL(values,v44){switch(arguments.length-1){case 0:v44=l4.value;
;
default:break;
}var v43=l4.value;
var I;
for (I=arguments.length-1-1;I>=1;I--)v43=new internals.Cons(arguments[I+1],v43);
var v45=this;
return v8=v44;
});
var ARGS=[internals.pv];
return (function(){var values=internals.mv;
var VS;
VS=l17.fvalue(values,l4.value,(function JSCL_USER_NIL(values,v47,v48){internals.checkArgsAtLeast(arguments.length-1,1);
switch(arguments.length-1){case 1:v48=l11.fvalue(internals.pv,l5,l6.value,l7,l8.value,l32,l10.value,1);
;
default:break;
}var v46=l4.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v46=new internals.Cons(arguments[I+1],v46);
var v49=this;
(function(){l12.fvalue(internals.pv,v48,v47);
return l14.fvalue(internals.pv,l33,v47);
})();
return v46;
}),l16.fvalue(internals.pv,internals.symbolValue(l15)));
if (typeof VS==='object'&&VS&&'multiple-value' in VS) ARGS=ARGS.concat(VS);
 else ARGS.push(VS);
return FUNC.apply(null,ARGS);
})();
})();
})();
})(internals.js_to_lisp(internals.symbolValue(l18)['prompt'](internals.lisp_to_js(v8))));
(function(){throw new internals.TagNLX(v11,1);
})();
case 2:default:break TBLOOP;
}}catch (JUMP){if (JUMP instanceof internals.TagNLX&&JUMP.id==v11) v10=JUMP.label;
 else throw JUMP;
}}return l4.value;
})();
})();
})(l17.fvalue(internals.pv,l4.value,(function JSCL_USER_NIL(values,v4,v5){internals.checkArgsAtLeast(arguments.length-1,1);
switch(arguments.length-1){case 1:v5=l11.fvalue(internals.pv,l5,l6.value,l7,l8.value,l9,l10.value,1);
;
default:break;
}var v3=l4.value;
var I;
for (I=arguments.length-1-1;I>=2;I--)v3=new internals.Cons(arguments[I+1],v3);
var v6=this;
(function(){l12.fvalue(internals.pv,v5,v4);
return l14.fvalue(internals.pv,l13,v4);
})();
return v3;
}),l16.fvalue(internals.pv,internals.symbolValue(l15))));
})();
});
FUNC.fname='START-REPL';
return FUNC;
})();
l2;
var l34=internals.intern('DENO-INIT');
var l35=internals.intern('MAKE-NEW');
var l36=internals.intern('*STANDARD-OUTPUT*','COMMON-LISP');
var l37=internals.intern('WRITE-FN','KEYWORD');
l37.value=l37;
var l38=internals.intern('MAKE-STREAM');
var l39=internals.intern('*ERROR-OUTPUT*','COMMON-LISP');
var l40=internals.intern('*TRACE-OUTPUT*','COMMON-LISP');
l34.fvalue=(function(){var FUNC=(function JSCL_USER_DENOINIT(values){internals.checkArgsAtMost(arguments.length-1,0);
var v51=this;
return (function(){(function(v53){return l36.value=l38.fvalue(internals.pv,l37.value,(function JSCL_USER_NIL(values,v54){internals.checkArgs(arguments.length-1,1);
var v55=this;
return internals.js_to_lisp(internals.symbolValue(l18)['Deno']['writeAllSync'](internals.lisp_to_js(internals.js_to_lisp((function(){var TMP=internals.symbolValue(l18)['Deno'];
if (TMP===undefined) return l4.value;
TMP=TMP['stdout'];
return TMP===undefined?l4.value:TMP;
})())),internals.lisp_to_js(internals.js_to_lisp(v53['encode'](internals.lisp_to_js(v54))))));
})),l39.value=internals.symbolValue(l36),l40.value=internals.symbolValue(l36);
})(l35.fvalue(internals.pv,internals.js_to_lisp((function(){var TMP=internals.symbolValue(l18)['TextEncoder'];
return TMP===undefined?l4.value:TMP;
})())));
return l2.fvalue(values);
})();
});
FUNC.fname='DENO-INIT';
return FUNC;
})();
l34;
l34.fvalue(internals.pv);
})(jscl.internals.pv, jscl.internals);
})( typeof require !== 'undefined'? require('./jscl'): window.jscl )
